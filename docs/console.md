<!-- DO NOT EDIT THIS FILE DIRECTLY - it is generated from source file sources/CONSOLE.pks -->
<!-- markdownlint-disable MD003 MD012 MD033 -->

Oracle Instrumentation Console
==============================

- [Package console](#console)
- [Function my_client_identifier](#my_client_identifier)
- [Function my_log_level](#my_log_level)
- [Procedure permanent](#permanent)
- [Procedure error](#error)
- [Function error](#error)
- [Procedure warn](#warn)
- [Procedure info](#info)
- [Procedure log](#log)
- [Procedure debug](#debug)
- [Procedure assert](#assert)
- [Procedure table#](#table)
- [Procedure trace](#trace)
- [Procedure count](#count)
- [Procedure count_end](#count_end)
- [Function count_end](#count_end)
- [Procedure time](#time)
- [Procedure time_end](#time_end)
- [Function time_end](#time_end)
- [Procedure clear](#clear)
- [Function level_permanent](#level_permanent)
- [Function level_error](#level_error)
- [Function level_warning](#level_warning)
- [Function level_info](#level_info)
- [Function level_verbose](#level_verbose)
- [Function level_is_warning](#level_is_warning)
- [Function level_is_info](#level_is_info)
- [Function level_is_verbose](#level_is_verbose)
- [Function level_is_warning_yn](#level_is_warning_yn)
- [Function level_is_info_yn](#level_is_info_yn)
- [Function level_is_verbose_yn](#level_is_verbose_yn)
- [Function apex_error_handling](#apex_error_handling)
- [Procedure action](#action)
- [Procedure module](#module)
- [Procedure init](#init)
- [Procedure exit](#exit)
- [Function context_is_available](#context_is_available)
- [Function context_is_available_yn](#context_is_available_yn)
- [Function version](#version)
- [Function to_yn](#to_yn)
- [Function to_bool](#to_bool)
- [Function to_html_table](#to_html_table)
- [Function to_md_tab_header](#to_md_tab_header)
- [Function to_md_tab_data](#to_md_tab_data)
- [Function get_runtime](#get_runtime)
- [Function get_runtime_seconds](#get_runtime_seconds)
- [Function get_scope](#get_scope)
- [Function get_call_stack](#get_call_stack)
- [Function get_apex_env](#get_apex_env)
- [Function get_cgi_env](#get_cgi_env)
- [Function get_user_env](#get_user_env)
- [Function get_console_env](#get_console_env)
- [Procedure clob_append](#clob_append)
- [Procedure clob_append](#clob_append)
- [Procedure clob_flush_cache](#clob_flush_cache)


<h2><a id="console"></a>Package console</h2>
<!----------------------------------------->

An instrumentation tool for Oracle developers. Save to install on production and
mostly API compatible with the [JavaScript
console](https://developers.google.com/web/tools/chrome-devtools/console/api).

For more infos have a look at the [project page on
GitHub](https://github.com/ogobrecht/console).

SIGNATURE

```sql
package console authid definer is

c_name    constant varchar2 ( 30 byte ) := 'Oracle Instrumentation Console'       ;
c_version constant varchar2 ( 10 byte ) := '0.17.1'                               ;
c_url     constant varchar2 ( 40 byte ) := 'https://github.com/ogobrecht/console' ;
c_license constant varchar2 ( 10 byte ) := 'MIT'                                  ;
c_author  constant varchar2 ( 20 byte ) := 'Ottmar Gobrecht'                      ;

c_level_permanent constant pls_integer := 0 ;
c_level_error     constant pls_integer := 1 ;
c_level_warning   constant pls_integer := 2 ;
c_level_info      constant pls_integer := 3 ;
c_level_verbose   constant pls_integer := 4 ;
```


<h2><a id="my_client_identifier"></a>Function my_client_identifier</h2>
<!-------------------------------------------------------------------->

Returns the current session identifier of the own session. This information is cached in a
package variable and determined on package initialization.

```sql
select console.my_client_identifier from dual;
```

SIGNATURE

```sql
function my_client_identifier return varchar2;
```


<h2><a id="my_log_level"></a>Function my_log_level</h2>
<!---------------------------------------------------->

Returns the current log level of the own session. This information is cached in a
package variable for performance reasons and re-evaluated every 10 seconds.

```sql
select console.my_log_level from dual;
```

--------------------------------------------------------------------------------

SIGNATURE

```sql
function my_log_level return integer;
```


<h2><a id="permanent"></a>Procedure permanent</h2>
<!----------------------------------------------->

Log a message with the level 0 (permanent). These messages will not be deleted
on cleanup.

SIGNATURE

```sql
procedure permanent ( p_message clob );
```


<h2><a id="error"></a>Procedure error</h2>
<!--------------------------------------->

Log a message with the level 1 (error).

SIGNATURE

```sql
procedure error (
  p_message         clob     default null  ,
  p_call_stack      boolean  default true  ,
  p_apex_env        boolean  default false ,
  p_cgi_env         boolean  default false ,
  p_console_env     boolean  default false ,
  p_user_env        boolean  default false ,
  p_user_agent      varchar2 default null  ,
  p_user_scope      varchar2 default null  ,
  p_user_error_code integer  default null  ,
  p_user_call_stack varchar2 default null  );
```


<h2><a id="error"></a>Function error</h2>
<!-------------------------------------->

Log a message with the level 1 (error).

This is an overloaded function which returns the `log_id` as a reference for
further investigation by a support team. It can be used for example in an [APEX
error handling
function](https://docs.oracle.com/en/database/oracle/application-express/20.2/aeapi/Example-of-an-Error-Handling-Function.html#GUID-2CD75881-1A59-4787-B04B-9AAEC14E1A82).

SIGNATURE

```sql
function error (
  p_message         clob     default null  ,
  p_call_stack      boolean  default true  ,
  p_apex_env        boolean  default false ,
  p_cgi_env         boolean  default false ,
  p_console_env     boolean  default false ,
  p_user_env        boolean  default false ,
  p_user_agent      varchar2 default null  ,
  p_user_scope      varchar2 default null  ,
  p_user_error_code integer  default null  ,
  p_user_call_stack varchar2 default null  )
return integer;
```


<h2><a id="warn"></a>Procedure warn</h2>
<!------------------------------------->

Log a message with the level 2 (warning).

SIGNATURE

```sql
procedure warn (
  p_message         clob     default null  ,
  p_call_stack      boolean  default false ,
  p_apex_env        boolean  default false ,
  p_cgi_env         boolean  default false ,
  p_console_env     boolean  default false ,
  p_user_env        boolean  default false ,
  p_user_agent      varchar2 default null  ,
  p_user_scope      varchar2 default null  ,
  p_user_error_code integer  default null  ,
  p_user_call_stack varchar2 default null  );
```


<h2><a id="info"></a>Procedure info</h2>
<!------------------------------------->

Log a message with the level 3 (info).

SIGNATURE

```sql
procedure info (
  p_message         clob     default null  ,
  p_call_stack      boolean  default false ,
  p_apex_env        boolean  default false ,
  p_cgi_env         boolean  default false ,
  p_console_env     boolean  default false ,
  p_user_env        boolean  default false ,
  p_user_agent      varchar2 default null  ,
  p_user_scope      varchar2 default null  ,
  p_user_error_code integer  default null  ,
  p_user_call_stack varchar2 default null  );
```


<h2><a id="log"></a>Procedure log</h2>
<!----------------------------------->

Log a message with the level 3 (info).

SIGNATURE

```sql
procedure log(
  p_message         clob     default null  ,
  p_call_stack      boolean  default false ,
  p_apex_env        boolean  default false ,
  p_cgi_env         boolean  default false ,
  p_console_env     boolean  default false ,
  p_user_env        boolean  default false ,
  p_user_agent      varchar2 default null  ,
  p_user_scope      varchar2 default null  ,
  p_user_error_code integer  default null  ,
  p_user_call_stack varchar2 default null  );
```


<h2><a id="debug"></a>Procedure debug</h2>
<!--------------------------------------->

Log a message with the level 4 (verbose).

SIGNATURE

```sql
procedure debug (
  p_message         clob     default null  ,
  p_call_stack      boolean  default false ,
  p_apex_env        boolean  default false ,
  p_cgi_env         boolean  default false ,
  p_console_env     boolean  default false ,
  p_user_env        boolean  default false ,
  p_user_agent      varchar2 default null  ,
  p_user_scope      varchar2 default null  ,
  p_user_error_code integer  default null  ,
  p_user_call_stack varchar2 default null  );
```


<h2><a id="assert"></a>Procedure assert</h2>
<!----------------------------------------->

If the given expression evaluates to false, an error is raised with the given
message.

EXAMPLE

```sql
declare
  x number := 5;
  y number := 3;
begin
  console.assert(
    x < y,
    'X should be less then Y (x=' || to_char(x) || ', y=' || to_char(y) || ')'
  );
exception
  when others then
    console.error;
    raise;
end;
/
```

SIGNATURE

```sql
procedure assert (
  p_expression boolean,
  p_message    varchar2
);
```


<h2><a id="table"></a>Procedure table#</h2>
<!---------------------------------------->

Logs a cursor as a HTML table with the level 3 (info).

Using a cursor for the table method is very flexible, but opening a cursor can
produce unnecessary work for your system when you are not in the log level info.
Therefore please check your current log level before you open the cursor.

EXAMPLE

```sql
declare
  v_dataset sys_refcursor;
begin
  -- Your business logic here...

  -- Debug code
  if console.level_is_info then
    open v_dataset for
      select table_name,
             tablespace_name,
             logging,
             num_rows,
             last_analyzed,
             partitioned,
             has_identity
        from user_tables;
    console.table#(v_dataset);
  end if;

  -- Your business logic here...
end;
/
```

SIGNATURE

```sql
procedure table# (
  p_data_cursor       sys_refcursor         ,
  p_comment           varchar2 default null ,
  p_include_row_num   boolean  default true ,
  p_max_rows          integer  default 100  ,
  p_max_column_length integer  default 1000 );
```


<h2><a id="trace"></a>Procedure trace</h2>
<!--------------------------------------->

Logs a call stack with the level 3 (info).

SIGNATURE

```sql
procedure trace (
  p_message         clob     default null  ,
  p_call_stack      boolean  default true  ,
  p_apex_env        boolean  default false ,
  p_cgi_env         boolean  default false ,
  p_console_env     boolean  default false ,
  p_user_env        boolean  default false ,
  p_user_agent      varchar2 default null  ,
  p_user_scope      varchar2 default null  ,
  p_user_error_code integer  default null  ,
  p_user_call_stack varchar2 default null  );
```


<h2><a id="count"></a>Procedure count</h2>
<!--------------------------------------->

Starts a new counter with a value of one or adds one to an existent counter.

Call `console.count_end('yourLabel')` to stop the counter and get or log the count
value.

SIGNATURE

```sql
procedure count ( p_label varchar2 default null );
```


<h2><a id="count_end"></a>Procedure count_end</h2>
<!----------------------------------------------->

Stops a counter and logs the result, if current log level >= 3 (info).

EXAMPLE

```sql
--Set your own session in logging mode (defaults: level 3=info for the next 60 minutes).
exec console.init;

begin
  --Do your stuff here.
  for i in 1 .. 1000 loop
    if mod(i, 3) = 0 then
      console.count('myLabel');
    end if;
  end loop;

  --Log your count value.
  console.count_end('myLabel');
end;
/

--Stop logging mode of your own session.
exec console.exit;
```

SIGNATURE

```sql
procedure count_end ( p_label varchar2 default null );
```


<h2><a id="count_end"></a>Function count_end</h2>
<!---------------------------------------------->

Stops a counter and returns the result.

Does not depend on a log level, can be used anywhere to count things.

EXAMPLE

```sql
set serveroutput on

declare
  v_my_label constant varchar2(20) := 'My label: ';
begin
  --do your stuff here
  for i in 1 .. 1000 loop
    if mod(i, 3) = 0 then
      console.count(v_my_label);
    end if;
  end loop;

  --Return your count value.
  dbms_output.put_line(v_my_label || console.count_end(v_my_label) );
end;
/
```

SIGNATURE

```sql
function count_end ( p_label varchar2 default null ) return varchar2;
```


<h2><a id="time"></a>Procedure time</h2>
<!------------------------------------->

Starts a new timer.

Call `console.time_end('yourLabel')` to stop the timer and get or log the elapsed
time.

SIGNATURE

```sql
procedure time ( p_label varchar2 default null );
```


<h2><a id="time_end"></a>Procedure time_end</h2>
<!--------------------------------------------->

Stops a timer and logs the result, if current log level >= 3 (info).

EXAMPLE

```sql
--Set you own session in logging mode with the defaults: level 3(info) for the next 60 minutes.
exec console.init;

begin
  console.time('myLabel');

  --Do your stuff here.
  for i in 1 .. 100000 loop
    null;
  end loop;

  --Log the time.
  console.time_end('myLabel');
end;
/

--Stop logging mode of your own session.
exec console.exit;
```

SIGNATURE

```sql
procedure time_end ( p_label varchar2 default null );
```


<h2><a id="time_end"></a>Function time_end</h2>
<!-------------------------------------------->

Stops a timer and returns the result.

Does not depend on a log level, can be used anywhere to measure runtime.

EXAMPLE

```sql
set serveroutput on

declare
  v_my_label constant varchar2(20) := 'My label: ';
begin
  console.time(v_my_label);

  --do your stuff here
  for i in 1 .. 100000 loop
    null;
  end loop;

  --Return the runtime.
  dbms_output.put_line(v_my_label || console.time_end(v_my_label) );
end;
/
```

SIGNATURE

```sql
function time_end ( p_label varchar2 default null ) return varchar2;
```


<h2><a id="clear"></a>Procedure clear</h2>
<!--------------------------------------->

Clears the cached log entries (if any).

This procedure is useful when you have initialized your own session with a cache
size greater then zero (for example 1000) and you take a look at the log entries
with the pipelined function `console.view_log_cache` during development. By
clearing the cache you can avoid spoiling your CONSOLE_LOGS table with entries
you dont need longer.

DO NOT USE THIS PROCEDURE IN YOUR BUSINESS LOGIC. IT IS INTENDET ONLY FOR
MANAGING LOGGING MODES OF SESSIONS.

SIGNATURE

```sql
procedure clear ( p_client_identifier varchar2 default my_client_identifier );
```


<h2><a id="level_permanent"></a>Function level_permanent</h2>
<!---------------------------------------------------------->

Returns the number code for the level 0 permanent.

SIGNATURE

```sql
function level_permanent return integer;
```


<h2><a id="level_error"></a>Function level_error</h2>
<!-------------------------------------------------->

Returns the number code for the level 1 error.

SIGNATURE

```sql
function level_error     return integer;
```


<h2><a id="level_warning"></a>Function level_warning</h2>
<!------------------------------------------------------>

Returns the number code for the level 2 warning.

SIGNATURE

```sql
function level_warning   return integer;
```


<h2><a id="level_info"></a>Function level_info</h2>
<!------------------------------------------------>

Returns the number code for the level 3 info.

SIGNATURE

```sql
function level_info      return integer;
```


<h2><a id="level_verbose"></a>Function level_verbose</h2>
<!------------------------------------------------------>

Returns the number code for the level 4 verbose.

SIGNATURE

```sql
function level_verbose   return integer;
```


<h2><a id="level_is_warning"></a>Function level_is_warning</h2>
<!------------------------------------------------------------>

Returns true when the level is greater than or equal warning, otherwise false.

SIGNATURE

```sql
function level_is_warning return boolean;
```


<h2><a id="level_is_info"></a>Function level_is_info</h2>
<!------------------------------------------------------>

Returns true when the level is greater than or equal info, otherwise false.

SIGNATURE

```sql
function level_is_info    return boolean;
```


<h2><a id="level_is_verbose"></a>Function level_is_verbose</h2>
<!------------------------------------------------------------>

Returns true when the level is greater than or equal verbose, otherwise false.

SIGNATURE

```sql
function level_is_verbose return boolean;
```


<h2><a id="level_is_warning_yn"></a>Function level_is_warning_yn</h2>
<!------------------------------------------------------------------>

Returns 'Y' when the level is greater than or equal warning, otherwise 'N'.

SIGNATURE

```sql
function level_is_warning_yn return varchar2;
```


<h2><a id="level_is_info_yn"></a>Function level_is_info_yn</h2>
<!------------------------------------------------------------>

Returns 'Y' when the level is greater than or equal info, otherwise 'N'.

SIGNATURE

```sql
function level_is_info_yn    return varchar2;
```


<h2><a id="level_is_verbose_yn"></a>Function level_is_verbose_yn</h2>
<!------------------------------------------------------------------>

Returns 'Y' when the level is greater than or equal verbose, otherwise 'N'.

SIGNATURE

```sql
function level_is_verbose_yn return varchar2;
```


<h2><a id="apex_error_handling"></a>Function apex_error_handling</h2>
<!------------------------------------------------------------------>

You can register this example APEX error handler function to log APEX internal
errors.

To do so go into the Application Builder into your app > Edit Application
Properties > Error Handling > Error Handling Function. You can then provide here
`console.apex_error_handling`.

For more info see the [official
docs](https://docs.oracle.com/en/database/oracle/application-express/20.2/aeapi/Example-of-an-Error-Handling-Function.html#GUID-2CD75881-1A59-4787-B04B-9AAEC14E1A82).

The implementation code (see package body) is taken from the docs and aligned
for CONSOLE as a starting point. If this does not fit your needs then simply
reimplement an own function and use that instead.

SIGNATURE

```sql
function apex_error_handling ( p_error in apex_error.t_error )
return apex_error.t_error_result;
```


<h2><a id="action"></a>Procedure action</h2>
<!----------------------------------------->

An alias for dbms_application_info.set_action.

Use the given action to set the session action attribute (in memory operation,
does not log anything). This attribute is then visible in the system session
views, the user environment and will be logged within all console logging
methods.

When you set the action attribute with `console.action` you should also reset it
when you have finished your work to prevent wrong info in the system and your
logging for subsequent method calls.

EXAMPLE

```sql
begin
  console.action('My process/task');
  -- do your stuff here...
  console.action(null);
exception
  when others then
    console.error('something went wrong');
    console.action(null);
    raise;
end;
/
```

SIGNATURE

```sql
procedure action ( p_action varchar2 );
```


<h2><a id="module"></a>Procedure module</h2>
<!----------------------------------------->

An alias for dbms_application_info.set_module.

Use the given module and action to set the session module and action attributes
(in memory operation, does not log anything). These attributes are then visible
in the system session views, the user environment and will be logged within all
console logging methods.

Please note that your app framework may set the module and you should consider
to only set the action attribute with the `action` (see below).

SIGNATURE

```sql
procedure module (
  p_module varchar2,
  p_action varchar2 default null
);
```


<h2><a id="init"></a>Procedure init</h2>
<!------------------------------------->

Starts the logging for a specific session.

To avoid spoiling the context with very long input the p_client_identifier parameter is
truncated after 64 characters before using it.

For easier usage there is an overloaded procedure available which uses always
your own client identifier.

DO NOT USE THIS PROCEDURE IN YOUR BUSINESS LOGIC. IT IS INTENDET ONLY FOR
MANAGING LOGGING MODES OF SESSIONS.

EXAMPLES

```sql
-- Dive into your own session with the default level of 3 (info) and the
-- default duration of 60 (minutes).
exec console.init;

-- With level 4 (verbose) for the next 15 minutes.
exec console.init(4, 15);

-- Using a constant for the level
exec console.init(console.c_level_verbose, 90);

-- Debug an APEX session...
exec console.init('APEX:8805903776765', 4, 90);

-- ... with the defaults
exec console.init('APEX:8805903776765');

-- Debug another session
begin
  console.init(
    p_client_identifier => 'APEX:8805903776765',
    p_log_level         => console.c_level_verbose,
    p_log_duration      => 15
  );
end;
/
```

SIGNATURE

```sql
procedure init (
  p_client_identifier varchar2                      , -- The client identifier provided by the application or console itself.
  p_log_level         integer  default c_level_info , -- Level 2 (warning), 3 (info) or 4 (verbose).
  p_log_duration      integer  default 60           , -- The number of minutes the session should be in logging mode. Allowed values: 1 to 1440 minutes (24 hours).
  p_cache_size        integer  default 0            , -- The number of log entries to cache before they are written down into the log table, if not already written by the end of the cache duration. Errors are flushing always the cache. If greater then zero and no errors occur you can loose log entries in shered environments like APEX. Allowed values: 0 to 100 records.
  p_cache_duration    integer  default 10           , -- The number of seconds a session in logging mode looks for a changed configuration and flushes the cached log entries. Allowed values: 1 to 10 seconds.
  p_call_stack        boolean  default false        , -- Should the call stack be included.
  p_user_env          boolean  default false        , -- Should the user environment be included.
  p_apex_env          boolean  default false        , -- Should the APEX environment be included.
  p_cgi_env           boolean  default false        , -- Should the CGI environment be included.
  p_console_env       boolean  default false          -- Should the console environment be included.
);
```


<h2><a id="exit"></a>Procedure exit</h2>
<!------------------------------------->

Stops the logging for a specific session.

If you stop your own session then this has an immediate effect as we can clear
the configuration cache in our package. If you stop another session then it can
take some seconds until the other session is reloading the cached configuration
from the context (if available) or the sessions table. The default cache
duration is ten seconds.

Stopping the logging mode means also the cached log entries will be flushed to
the logging table CONSOLE_LOGS. If you do not need the cached entries you can
delete them in advance by calling the `clear` procedure.

DO NOT USE THIS PROCEDURE IN YOUR BUSINESS LOGIC. IT IS INTENDET ONLY FOR
MANAGING LOGGING MODES OF SESSIONS.

SIGNATURE

```sql
procedure exit (
  p_client_identifier varchar2 default my_client_identifier -- The client identifier provided by the application or console itself.
);
```


<h2><a id="context_is_available"></a>Function context_is_available</h2>
<!-------------------------------------------------------------------->

Checks the availability of the global context. Returns true, if available and
false if not.

```sql
begin
  if not console.context_is_available then
    dbms_output.put_line('I need to speak with my DBA :-(');
  end if;
end;
/
```

SIGNATURE

```sql
function context_is_available return boolean;
```


<h2><a id="context_is_available_yn"></a>Function context_is_available_yn</h2>
<!-------------------------------------------------------------------------->

Checks the availability of the global context. Returns `Y`, if available and `N`
if not.

```sql
select case when console.context_is_available_yn = 'N'
         then 'I need to speak with my DBA :-('
         else 'We have a global context :-)'
       end as "Test context availability"
  from dual;
```

SIGNATURE

```sql
function context_is_available_yn return varchar2;
```


<h2><a id="version"></a>Function version</h2>
<!------------------------------------------>

Returns the version information from the console package.


```sql
select console.version from dual;
```

SIGNATURE

```sql
function version return varchar2;
```


<h2><a id="to_yn"></a>Function to_yn</h2>
<!-------------------------------------->

Converts a boolean value to a string.

Returns `Y` when the input is true and `N` if the input is false or null.

SIGNATURE

```sql
function to_yn ( p_bool boolean ) return varchar2;
```


<h2><a id="to_bool"></a>Function to_bool</h2>
<!------------------------------------------>

Converts a string to a boolean value.

Returns true when the uppercased, trimmed input is `Y`, `YES`, `1` or `TRUE`. In
all other cases (also on null) false is returned.

SIGNATURE

```sql
function to_bool ( p_string varchar2 ) return boolean;
```


<h2><a id="to_html_table"></a>Function to_html_table</h2>
<!------------------------------------------------------>

Helper to convert a cursor to a HTML table.

Note: As this helper is designed to work always it does not check your log
level. And if it would check, it would not help for the opening of the cursor,
which is done before. To save work for your database in cases you are not in
logging mode you should check the log level before open the cursor. Please see the
examples below.

EXAMPLES 1 - Open cursor in advance

```sql
declare
  v_dataset sys_refcursor;
begin
  -- Your business logic here.

  -- Debug code
  if console.level_is_info then
    open v_dataset for select * from user_tables;
    console.info(console.to_html_table(v_dataset));
  end if;
end;
/
```

EXAMPLES 2 - Open cursor in for loop

```sql
begin
  -- Your business logic here.

  -- Debug code
  if console.my_log_level >= console.c_level_info then
    for i in (
      select console.to_html_table(cursor(select * from user_tables)) as html
        from dual )
    loop
      console.info(i.html);
    end loop;
  end if;
end;
/
```

SIGNATURE

```sql
function to_html_table (
  p_data_cursor       sys_refcursor         ,
  p_comment           varchar2 default null ,
  p_include_row_num   boolean  default true ,
  p_max_rows          integer  default 100  ,
  p_max_column_length integer  default 1000 )
return clob;
```


<h2><a id="to_md_tab_header"></a>Function to_md_tab_header</h2>
<!------------------------------------------------------------>

Converts the given key and value strings to a Markdown table header.

`to_md_tab_header` will return the following Markdown table header:

```md
| Attribute                      | Value                                       |
| ------------------------------ | ------------------------------------------- |
```

SIGNATURE

```sql
function to_md_tab_header (
  p_key              varchar2 default 'Attribute' ,
  p_value            varchar2 default 'Value'     )
return varchar2;
```


<h2><a id="to_md_tab_data"></a>Function to_md_tab_data</h2>
<!-------------------------------------------------------->

Converts the given key and value strings to a Markdown table data row.

EXAMPLE

`to_md_tab_header('CLIENT_IDENTIFIER', '{o,o} 4C8E71DF0001')` will return the
following Markdown table row:

```md
| CLIENT_IDENTIFIER              | {o,o} 4C8E71DF0001                          |

```

SIGNATURE

```sql
function to_md_tab_data (
  p_key              varchar2               ,
  p_value            varchar2               ,
  p_value_max_length integer  default 1000  ,
  p_show_null_values boolean  default false )
return varchar2;
```


<h2><a id="get_runtime"></a>Function get_runtime</h2>
<!-------------------------------------------------->

Returns a string in the format hh24:mi:ss.ff6 (for example 00:00:01.123456).

Is internally used by the `time_end` method and uses `localtimestamp` to compare
with `p_start`.

EXAMPLE

```sql
set serveroutput on
declare
  v_start timestamp := localtimestamp;
begin

  --do your stuff here

  dbms_output.put_line('Runtime: ' || console.get_runtime(v_start));
end;
/
```

SIGNATURE

```sql
function  get_runtime ( p_start timestamp ) return varchar2;
```


<h2><a id="get_runtime_seconds"></a>Function get_runtime_seconds</h2>
<!------------------------------------------------------------------>

Subtracts the start `localtimestamp` from the current `localtimestamp` and
returns the exracted seconds.

EXAMPLE

```sql
set serveroutput on
declare
  v_start timestamp := localtimestamp;
begin

  --do your stuff here

  dbms_output.put_line (
    'Runtime (seconds): ' || to_char(console.get_runtime_seconds(v_start)) );
end;
/
```

SIGNATURE

```sql
function get_runtime_seconds ( p_start timestamp ) return number;
```


<h2><a id="get_scope"></a>Function get_scope</h2>
<!---------------------------------------------->

Get the current scope (method, line number) from the call stack.

Is used internally by console to automatically provide the scope attribute for a
log entry.

SIGNATURE

```sql
function  get_scope return varchar2;
```


<h2><a id="get_call_stack"></a>Function get_call_stack</h2>
<!-------------------------------------------------------->

Get the current call stack (and error stack/backtrace, if available).

Is used internally by console to provide the call stack for a log entry when
requested by one of the logging methods (which is the default for error and
trace).

SIGNATURE

```sql
function  get_call_stack return varchar2;
```


<h2><a id="get_apex_env"></a>Function get_apex_env</h2>
<!---------------------------------------------------->

Get the current APEX environment.

Is used internally by console to provide the APEX environment for a log entry
when requested by one of the logging methods.

SIGNATURE

```sql
function get_apex_env return clob;
```


<h2><a id="get_cgi_env"></a>Function get_cgi_env</h2>
<!-------------------------------------------------->

Get the current CGI environment.

Is used internally by console to provide the CGI environment for a log entry
when requested by one of the logging methods.

SIGNATURE

```sql
function get_cgi_env return varchar2;
```


<h2><a id="get_user_env"></a>Function get_user_env</h2>
<!---------------------------------------------------->

Get the current user environment.

Is used internally by console to provide the user environment for a log entry
when requested by one of the logging methods.

SIGNATURE

```sql
function get_user_env return varchar2;
```


<h2><a id="get_console_env"></a>Function get_console_env</h2>
<!---------------------------------------------------------->

Get the current console environment.

Is used internally by console to provide the console environment for a log entry
when requested by one of the logging methods.

SIGNATURE

```sql
function get_console_env return varchar2;
```


<h2><a id="clob_append"></a>Procedure clob_append</h2>
<!--------------------------------------------------->

High performance clob concatenation. Also see clob_flush_cache below.

Is used internally by console for the table method (and other things). Do not
forget a final flush cache call when you use it in your own code.

EXAMPLE

```sql
set serveroutput on feedback off
declare
  v_start  timestamp := localtimestamp;
  v_clob   clob;
  v_cache  varchar2(32767 char);
begin
  for i in 1..100000 loop
    console.clob_append(v_clob, v_cache, 'a');
  end loop;
  console.clob_flush_cache(v_clob, v_cache);
  dbms_output.put_line('Runtime (seconds): ' || to_char(console.get_runtime_seconds(v_start)));
  dbms_output.put_line('Lenght CLOB      : ' || length(v_clob));
end;
/
```

SIGNATURE

```sql
procedure clob_append (
  p_clob  in out nocopy clob     ,
  p_cache in out nocopy varchar2 ,
  p_text  in            varchar2 );
```


<h2><a id="clob_append"></a>Procedure clob_append</h2>
<!--------------------------------------------------->

High performance clob concatenation.

Overloaded method for appending a clob. Also see clob_append above with p_text
beeing a varchar2 parameter and clob_flush_cache below.

SIGNATURE

```sql
procedure clob_append (
  p_clob  in out nocopy clob     ,
  p_cache in out nocopy varchar2 ,
  p_text  in            clob     );
```


<h2><a id="clob_flush_cache"></a>Procedure clob_flush_cache</h2>
<!------------------------------------------------------------->

Flushes finally the cache in a high performance clob concatenation.

Also see clob_append above.

SIGNATURE

```sql
procedure clob_flush_cache (
  p_clob  in out nocopy clob     ,
  p_cache in out nocopy varchar2 );
```


